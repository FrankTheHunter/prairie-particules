import "./style.css";

const canvas = document.querySelector<HTMLCanvasElement>("#particules-canvas")!;
const ctx = canvas.getContext("2d")!;
const width = (canvas.width = window.innerWidth);
const height = (canvas.height = window.innerHeight);

let x1 = 50, y1 = 50;
let x2 = width-50, y2 = 50;
let x3 = 50, y3 = height-50;
let x4 = width-50, y4 = height-50;

let dx1 = 2, dy1 = 3;
let dx2 = -2, dy2 = 3;
let dx3 = 2, dy3 = -3;
let dx4 = -2, dy4 = -3;

canvas.addEventListener('mousemove', function(e) {
    const rect = canvas.getBoundingClientRect();
    const mouseX = e.clientX - rect.left;
    const mouseY = e.clientY - rect.top;

    dx1 = (mouseX - x1) * 0.01;
    dy1 = (mouseY - y1) * 0.01;

    dx2 = (mouseX - x2) * 0.01;
    dy2 = (mouseY - y2) * 0.01;

    dx3 = (mouseX - x3) * 0.01;
    dy3 = (mouseY - y3) * 0.01;

    dx4 = (mouseX - x4) * 0.01;
    dy4 = (mouseY - y4) * 0.01;
});

function draw() {
  ctx.fillStyle = "#000000";
  ctx.fillRect(0, 0, width, height); // Clear the canvas

  ctx.beginPath();
  ctx.fillStyle = "#ff0000";
  ctx.arc(x1, y1, 60, 0, 2 * Math.PI);
  ctx.fill();

  ctx.beginPath();
  ctx.arc(x2, y2, 60, 0, 2 * Math.PI);
  ctx.fill();

  ctx.beginPath();
  ctx.arc(x3, y3, 60, 0, 2 * Math.PI);
  ctx.fill();

  ctx.beginPath();
  ctx.arc(x4, y4, 60, 0, 2 * Math.PI);
  ctx.fill();

  
    if (x1 + dx1 > width || x1 + dx1 < 0) {
        dx1 *= -1;
    }
    if (y1 + dy1 > height || y1 + dy1 < 0) {
        dy1 *= -1;
    }

    if (x2 + dx2 > width || x2 + dx2 < 0) {
        dx2 *= -1;
    }
    if (y2 + dy2 > height || y2 + dy2 < 0) {
        dy2 *= -1;
    }

    if (x3 + dx3 > width || x3 + dx3 < 0) {
        dx3 *= -1;
    }
    if (y3 + dy3 > height || y3 + dy3 < 0) {
        dy3 *= -1;
    }

    if (x4 + dx4 > width || x4 + dx4 < 0) {
        dx4 *= -1;
    }
    if (y4 + dy4 > height || y4 + dy4 < 0) {
        dy4 *= -1;
    }

  
    x1 += dx1;
    y1 += dy1;

    x2 += dx2;
    y2 += dy2;

    x3 += dx3;
    y3 += dy3;

    x4 += dx4;
    y4 += dy4;

}

setInterval(draw,1);
   
  
    x1 += dx1;
    y1 += dy1;


setInterval(draw,1);
